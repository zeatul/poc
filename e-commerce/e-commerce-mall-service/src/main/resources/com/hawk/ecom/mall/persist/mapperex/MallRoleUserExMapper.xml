<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hawk.ecom.mall.persist.mapperex.MallRoleUserExMapper">

	<select id="hasAnyRole" resultType="integer">
		select count(1)
		from t_mal_mall_user a ,t_mal_mall_role_user b , t_mal_mall_role c
		where a.id = b.user_id and b.role_id = c.id
		and a.user_code = #{userCode}
		and c.role_code in
		<foreach item="item" index="index" collection="roles" open="(" separator="," close=")">
			#{item}
		</foreach>
	</select>

</mapper>